---
layout: post
title: ML Yearning（41~45章）
tags: [机器学习, 读书笔记, 总结]
category: 技术
mathjax: true
---
>我的DL启蒙导师Andrew Ng（吴恩达）又出新书了，虽然是草稿，但完全免费（圈起来，要考）也实在太良心了！！！《九阴真经》订阅就送有木有！！。我是第一时间就订阅，每有新的更新就会直接收到邮件。目前收到了前几章，读取来感觉又是太良心了！！！全是工程实践的干货有木有！！对于项目经验欠缺的我来说，真实如获至宝。这个系列的博客我将分享自己读后笔记，欢迎订阅！

## 41.辨别偏差、方差和数据不匹配误差
![误差表](https://blog-img-1257227635.cos.ap-beijing.myqcloud.com/MLY9-1.png)
继续以猫咪图像检测器为例，你可以看到在 x 轴上有两种不同的数据分布。在 y 轴上，我们有三种类型的误差：人为误差，算法上误差，以及算法未经过训练的样本误差。

## 42.解决数据不匹配问题
假设你已经开发了一个语音识别系统，它在训练集和训练开发集上都做得很好。但是，它在你的开发集上做得很差：这表明有一个数据不匹配的问题。
建议：
* 尝试理解数据属性在训练集和开发集分布之间的差异。
* 尝试找到更多的训练数据，以便更好地匹配你的算法碰到的开发集样本。
* “域适应”的研究——如何在一个分布上训练算法，并将其推广到不同的分布。**这些方法通常只适用于特殊类型的问题**。

## 38.如何决定是否添加不一致的数据
假设你想要学习预测纽约市的房价。考虑房子的大小（输入特征 x），你需要预测价格（目的标签 y）。纽约市的房价非常高。假设你在密歇根州的底特律有第二个住房价格数据集，就会发现那里的房价要低得多。应该把这些数据包含在你的训练集里吗？ 

房子的大小 x 相同，而价格 y 明显不同，这取决于它是在纽约还是在底特律。如果你只关心预测纽约市的房价，把这两个数据集放在一起会影响算法的表现。在这种情况下，最好忽略不一致的底特律数据。

猫咪图像的样本和这有点不一样，因为给定一个输入图片 x ，你能可靠地预测出标签 y （是否有猫），即使不知道图像是网络图像还是移动应用图像。

## 39.给数据加权重
通过对额外的网络图像赋予更少的权重，你不需要构建一个庞大的神经网络来确保算法在这两种类型的任务上都能很好地完成。只有当你怀疑这些额外的数据（网络图像）与开发/测试集分布不一致，或者额外的数据规模比与相同分布的开发/测试集（手机图像）数据规模大得多时，这种类型的权重加权才需要。

## 40.从训练集泛化到开发集

训练集包含了互联网图像+移动应用图像，而开发/测试集只包含移动应用图像。然而，该算法运行得不太好：它的开发/测试集误差比想要的要高得多。以下是一些可能出现问题的情况：
* 它在训练集上表现不佳，这属于训练集分布上的高（可避免）偏差的问题。
* 它在训练集上做得很好，但是不能很好地泛化到与训练集分布相同的未知数据，这是高方差问题。
* 它能够很好地泛化到与训练集相同分布的未知数据，但不能很好地泛化到与开发/测试集相同分布的未知数据。我们将这种情况称之为数据不匹配，因为训练集的数据与开发/测试集的数据匹配得相当地糟糕。

为了诊断一个算法在上面 1 到 3 个问题受到了多大程度的影响，存在另一个数据集将是很有用的。具体地说，与其给算法提供所有可用的训练数据，你还可以把它分成两个子集：算法将进行训练的实际训练集，以及一个单独的集合，我们称之为“训练开发”集，我们将不会对它进行训练。
你现在有四个数据子集：
* 训练集：这是算法将学习的数据（例如，互联网图像+移动应用图像）。这并不需要我们从与真正关心的相同分布（开发/测试集分布）的数据中提取。
* 训练开发集：这些数据来自与训练集相同的分布（例如，互联网图像+移动应用图像）。它通常比训练集要小；它只需要足够大到来评估和跟踪我们的学习算法的进展。
* 开发集：这是从与测试集相同分布的数据中抽取出来的，它反映了我们最终关心的数据的分布（例如，移动应用图像） 。
* 测试集：这是从与开发集相同分布的数据中抽取出来的（例如，移动应用图像）。

有了这四个独立的数据集，你现在可以评估：
* 训练误差，对训练集进行评估。
* 该算法能够泛化到与训练集相同分布数据的能力，并对训练开发集进行评估。
* 算法在你实际关心的任务上的性能，通过对开发集 和/或 测试集评估。  
